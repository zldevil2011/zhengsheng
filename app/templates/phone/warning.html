<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>设备预警</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no" />
    <link rel="shortcut icon" type="image/x-icon" href="/site_media//img/favicon.ico"/>
    <link rel="stylesheet" href= "/site_media/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://unpkg.com/purecss@0.6.2/build/pure-min.css" integrity="sha384-UQiGfs9ICog+LwheBSRCt1o5cbyKIHbwjWscjemyBMT9YCUMZffs6UqUTd0hObXD" crossorigin="anonymous">
    <link href="https://cdn.bootcss.com/flat-ui/2.3.0/css/flat-ui.min.css" rel="stylesheet">
    <style>
        .warning-item{
            border: 1px darkolivegreen solid;
            border-radius: 5px;
            cursor: pointer;
            overflow: hidden;
            margin: 0 5px 5px 5px;
            height: 60px;
        }
        .warning-item:hover{
            border: 1px red solid;
        }
    </style>
</head>
<body>
    <div id="loading" style="position: absolute; left: 50%; top:50%; transform: translate(-50%,-50%);width: 100%;height: 100%;background: rgba(128, 128, 128, 0.5);">
        <div class="spinner" style="">
          <div class="rect1"></div>
          <div class="rect2"></div>
          <div class="rect3"></div>
          <div class="rect4"></div>
          <div class="rect5"></div>
        </div>
    </div>
    <div class="row clearfix" style="padding: 15px;">
        {% for warning in warning_list %}
        <div class="col-md-12 column warning-item" href="#warning-Info-{{ warning.id }}" role="button" data-toggle="modal">
            <div class="col-md-6 col-xs-4" style="text-align: left;">
                {{ warning.name }}
            </div>
            <div class="col-md-6 col-xs-8" style="text-align: right;">
                {{ warning.time }}
            </div>
            <div class="col-md-12 col-xs-12">
                {{ warning.content | safe}}
            </div>
		</div>
        {% endfor %}
	</div>
    {% for warning in warning_list %}
    <div class="modal fade" id="warning-Info-{{ warning.id }}" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="color:black;">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                     <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    <h4 class="modal-title" id="myModalLabel" style="font-size: 1.5rem;">
                        <span name="wo-user">{{ warning.name }}</span>
                        <span name="wo-id" class="hidden"></span>
                    </h4>
                </div>
                <div class="modal-body">
                    <p name="wo-title">设备:{{ warning.device.device_id }}</p>
                    <p name="wo-content">时间:{{ warning.time }}</p>
                    <p>
                        {{ warning.content | safe }}
                    </p>
                    <p name="wo-status"></p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
{#                    <button name = "updateBtn" type="button" class="btn btn-success" onclick="updateWO()">保存</button>#}
                </div>
            </div>
        </div>
    </div>
    {% endfor %}
    <script src= "/site_media/js/jquery-2.2.1.min.js"></script>
    <script src= "/site_media/js/bootstrap.min.js"></script>
    <script src= "/site_media/js/highcharts.js" ></script>
    <script src="https://unpkg.com/vue/dist/vue.js"></script>
    <script>
        var height =  $(document).height();
        $("#slider").height(height);
    </script>
    <script>
        window.onload =function()
        {
            console.log("Yes");
            $("#loading").css("display", "none");
        }
    </script>
    <script>

    </script>
</body>
</html>